{
  "version": 3,
  "sources": ["../../demo-resources/demo-ui/BrowserDetection.js", "../../demo-resources/demo-error.js", "../../demo-resources/demo-ui/demo-ui-init.js", "../../demo-resources/demo-ui/element-utils.js", "../../demo-resources/demo-ui/toolbar.js", "../../demo-resources/demo-ui/finish-loading.js"],
  "sourcesContent": ["/****************************************************************************\r\n ** @license\r\n ** This demo file is part of yFiles for HTML 2.6.0.4.\r\n ** Copyright (c) 2000-2024 by yWorks GmbH, Vor dem Kreuzberg 28,\r\n ** 72070 Tuebingen, Germany. All rights reserved.\r\n **\r\n ** yFiles demo files exhibit yFiles for HTML functionalities. Any redistribution\r\n ** of demo files in source code or binary form, with or without\r\n ** modification, is not permitted.\r\n **\r\n ** Owners of a valid software license for a yFiles for HTML version that this\r\n ** demo is shipped with are allowed to use the demo source code as basis\r\n ** for their own yFiles for HTML powered applications. Use of such programs is\r\n ** governed by the rights and conditions as set out in the yFiles for HTML\r\n ** license agreement.\r\n **\r\n ** THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESS OR IMPLIED\r\n ** WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\n ** MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN\r\n ** NO EVENT SHALL yWorks BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n ** SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED\r\n ** TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\r\n ** PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\r\n ** LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n ** NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n ** SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n **\r\n ***************************************************************************/\r\n/** @type {number} */\r\nlet iosVersion = null\r\n/** @type {number} */\r\nlet safariVersion = null\r\n/** @type {boolean} */\r\nlet supportsModulesInWorker = null\r\n/** @type {boolean} */\r\nlet supportsWebGL = null\r\n/** @type {boolean} */\r\nlet supportsWebGL2 = null\r\n/** @type {number} */\r\nlet androidVersion = null\r\n/** @type {number} */\r\nlet chromeVersion = null\r\n\r\n/**\r\n * Provides basic feature detection for HTML5 and JavaScript API that is used in the demos.\r\n *\r\n * For productive use in your project we recommend a mature solution like\r\n * [Modernizer](https://modernizr.com/) instead.\r\n */\r\nexport const BrowserDetection = {\r\n  /**\r\n   * Returns the iOS version, or 0 if it is another OS.\r\n   *\r\n   * As the time of writing, iOS 16 was the current version. Newer versions might use a different ua.\r\n   *\r\n   * NOTE: Since Safari for iPadOS 13, the user agent changed such that iOS and Mac OS X cannot be\r\n   * distinguished anymore. The check still works on other browsers on iPadOS, e.g. Chrome.\r\n   * Therefore, there is a separate check for iPad Safari 13+.\r\n   */\r\n  get iOSVersion() {\r\n    if (iosVersion == null) {\r\n      iosVersion = detectIosVersion()\r\n    }\r\n    return iosVersion\r\n  },\r\n  /**\r\n   *  The version number of Safari, or 0 if the current browser isn't Safari.\r\n   */\r\n  get safariVersion() {\r\n    if (safariVersion == null) {\r\n      safariVersion = detectSafariVersion()\r\n    }\r\n    return safariVersion\r\n  },\r\n  /**\r\n   * Specifies whether the browser supports modules for Web Workers.\r\n   */\r\n  get modulesSupportedInWorker() {\r\n    if (supportsModulesInWorker == null) {\r\n      supportsModulesInWorker = detectModulesSupportedInWorker()\r\n    }\r\n    return supportsModulesInWorker\r\n  },\r\n  /**\r\n   * Specifies whether the browser supports WebGL 1 rendering.\r\n   */\r\n  get webGL() {\r\n    if (supportsWebGL == null) {\r\n      supportsWebGL = hasDrawingContext('webgl') || hasDrawingContext('experimental-webgl')\r\n    }\r\n    return supportsWebGL\r\n  },\r\n  /**\r\n   * Specifies whether the browser supports WebGL 2 rendering.\r\n   */\r\n  get webGL2() {\r\n    if (supportsWebGL2 == null) {\r\n      supportsWebGL2 = hasDrawingContext('webgl2')\r\n    }\r\n    return supportsWebGL2\r\n  },\r\n  /**\r\n   * The version of Android or 0 if it is another OS.\r\n   */\r\n  get androidVersion() {\r\n    if (androidVersion == null) {\r\n      androidVersion = detectAndroidVersion()\r\n    }\r\n    return androidVersion\r\n  },\r\n  /**\r\n   * The version of Chrome or 0 if it is another browser.\r\n   */\r\n  get chromeVersion() {\r\n    if (chromeVersion == null) {\r\n      chromeVersion = detectChromeVersion()\r\n    }\r\n    return chromeVersion\r\n  }\r\n}\r\n\r\n/**\r\n * Returns the iOS version, or 0 if it is another OS.\r\n *\r\n * As the time of writing, iOS 16 was the current version. Newer versions might use a different ua.\r\n *\r\n * NOTE: Since Safari for iPadOS 13, the user agent changed such that iOS and Mac OS X cannot be\r\n * distinguished anymore. The check still works on other browsers on iPadOS, e.g. Chrome.\r\n * Therefore, there is a separate check for iPad Safari 13+.\r\n * @returns {number}\r\n */\r\nfunction detectIosVersion() {\r\n  // environments without window object\r\n  if (typeof window === 'undefined' || window.navigator?.userAgent == null) {\r\n    return 0\r\n  }\r\n\r\n  const ua = window.navigator.userAgent\r\n  // iPhones, iPad Safari < v13, and non-Safari browsers on iPad identify as the correct device\r\n  if (/iPad|iPhone|iPod/.test(ua)) {\r\n    // Chromium browsers have an ua similar to:\r\n    // Mozilla/5.0 (iPad; CPU OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/101.0.4951.44 Mobile/15E148 Safari/604.1\r\n    // iPhone Safari:\r\n    // Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1\r\n    const matches = / OS (\\d\\d)_/.exec(ua)\r\n    if (matches != null && matches.length > 1) {\r\n      return parseInt(matches[1])\r\n    }\r\n\r\n    // As fallback, report v10, that's good enough for yFiles demo purposes\r\n    return 10\r\n  }\r\n  // Since iPadOS v13, iPad Safari reports as macOS.\r\n  // As long as there are no Macs with touch support, we can detect iPads with the following check.\r\n  // Note that even iPads with Apple's M CPUs report as MacIntel.\r\n  if (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1) {\r\n    // iPad Safari has an ua similar to this:\r\n    // Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Safari/605.1.15\r\n    // Seems that the 'Version/16' part indeed specifies the iPadOS version\r\n    const matches = /Version\\/(\\d\\d)/.exec(ua)\r\n    if (matches != null && matches.length > 1) {\r\n      return parseInt(matches[1])\r\n    }\r\n    // As fallback, report v13, which is the first version that pretends to be macOS\r\n    return 13\r\n  }\r\n  return 0\r\n}\r\n\r\n/**\r\n * Returns the version of Safari, or 0 for other browsers.\r\n * @returns {number}\r\n */\r\nfunction detectSafariVersion() {\r\n  // environments without window object\r\n  if (typeof window === 'undefined' || window.navigator?.userAgent == null) {\r\n    return 0\r\n  }\r\n\r\n  const ua = window.navigator.userAgent\r\n  const isSafari = ua.indexOf('Safari') !== -1 && ua.indexOf('Chrome') === -1\r\n  if (isSafari) {\r\n    const safariVersionMatch = ua.match(new RegExp('Version\\\\/(\\\\d*\\\\.\\\\d*)', ''))\r\n    if (safariVersionMatch && safariVersionMatch.length > 1) {\r\n      return parseInt(safariVersionMatch[1])\r\n    }\r\n  }\r\n  return 0\r\n}\r\n\r\n/**\r\n * Returns the Android version, or 0 if it is another OS.\r\n *\r\n * At the time of writing, Android 13 was the current version. Newer versions might use a different ua. *\r\n * @returns {number}\r\n */\r\nfunction detectAndroidVersion() {\r\n  // environments without window object\r\n  if (typeof window === 'undefined' || window.navigator?.userAgent == null) {\r\n    return 0\r\n  }\r\n\r\n  const ua = window.navigator.userAgent\r\n  if (/Android/.test(ua)) {\r\n    // Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36\r\n    const matches = / Android (\\d\\d)_/.exec(ua)\r\n    if (matches != null && matches.length > 1) {\r\n      return parseInt(matches[1])\r\n    }\r\n\r\n    // As fallback, report v10, that's good enough for yFiles demo purposes\r\n    return 10\r\n  }\r\n  return 0\r\n}\r\n\r\n/**\r\n * Returns the version of Chrome, or 0 for other browsers.\r\n * @returns {number}\r\n */\r\nfunction detectChromeVersion() {\r\n  // environments without window object\r\n  if (typeof window === 'undefined' || window.navigator?.userAgent == null) {\r\n    return 0\r\n  }\r\n\r\n  const ua = window.navigator.userAgent\r\n  const isChrome = ua.indexOf('Chrome') !== -1 && ua.indexOf('Edg') === -1\r\n  if (isChrome) {\r\n    const matches = / Chrome\\/(\\d*)/.exec(ua)\r\n    if (matches != null && matches.length > 1) {\r\n      return parseInt(matches[1])\r\n    }\r\n    return 100\r\n  }\r\n  return 0\r\n}\r\n\r\n/**\r\n * @param {!string} name\r\n */\r\nfunction hasDrawingContext(name) {\r\n  return (\r\n    typeof window !== 'undefined' &&\r\n    window.document.createElement('canvas').getContext(name) != null\r\n  )\r\n}\r\n\r\n/**\r\n * Returns whether the browser supports modules for Web Workers.\r\n *\r\n * Note that this check creates an actual (but empty) Worker and thus is a bit more costly than\r\n * other checks.\r\n * @returns {boolean}\r\n */\r\nfunction detectModulesSupportedInWorker() {\r\n  if (typeof window === 'undefined' || window.Worker == null) {\r\n    return false\r\n  }\r\n  let modulesSupported = false\r\n  try {\r\n    // The idea is to create a worker with a specific options object that reports whether its\r\n    // properties are checked.\r\n    // In this case, if the browser supports modules in workers, it checks the 'type' option and the\r\n    // 'modulesSupported' variable becomes true.\r\n    // Otherwise, the browser might throw an error.\r\n    // The original idea for this check is from\r\n    //   https://stackoverflow.com/questions/62954570/javascript-feature-detect-module-support-for-web-workers\r\n    new Worker('data:', {\r\n      get type() {\r\n        modulesSupported = true\r\n        return 'module'\r\n      }\r\n    }).terminate()\r\n  } catch (_) {\r\n    modulesSupported = false\r\n  }\r\n  return modulesSupported\r\n}\r\n", "/****************************************************************************\r\n ** @license\r\n ** This demo file is part of yFiles for HTML 2.6.0.4.\r\n ** Copyright (c) 2000-2024 by yWorks GmbH, Vor dem Kreuzberg 28,\r\n ** 72070 Tuebingen, Germany. All rights reserved.\r\n **\r\n ** yFiles demo files exhibit yFiles for HTML functionalities. Any redistribution\r\n ** of demo files in source code or binary form, with or without\r\n ** modification, is not permitted.\r\n **\r\n ** Owners of a valid software license for a yFiles for HTML version that this\r\n ** demo is shipped with are allowed to use the demo source code as basis\r\n ** for their own yFiles for HTML powered applications. Use of such programs is\r\n ** governed by the rights and conditions as set out in the yFiles for HTML\r\n ** license agreement.\r\n **\r\n ** THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESS OR IMPLIED\r\n ** WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\n ** MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN\r\n ** NO EVENT SHALL yWorks BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n ** SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED\r\n ** TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\r\n ** PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\r\n ** LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n ** NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n ** SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n **\r\n ***************************************************************************/\r\nimport { yfiles, Exception } from 'yfiles'\r\nimport { BrowserDetection } from './demo-ui/BrowserDetection.js'\r\n\r\n/**\r\n * If an error occurs, a demo sets a failure state such that consecutive errors can no longer\r\n * be reported to yWorks\r\n * @typedef {('OK'|template)} DemoStatusValue\r\n */\r\n\r\nexport const INVALID_LICENSE_MESSAGE =\r\n  'This is an expected error caused by invalid or missing license data.'\r\n\r\n// Set to `true` when the dialog is open. Prevents opening of multiple error dialogs.\r\n/** @type {boolean} */\r\nlet errorDialogOpen = false\r\n\r\n/**\r\n * In Firefox, Error provides some additional properties.\r\n * @typedef {*} FirefoxError\r\n */\r\n/**\r\n * In Safari, Error provides some additional properties.\r\n * @typedef {*} SafariError\r\n */\r\n\r\n/**\r\n * Registers error handlers that show an error dialog that can send error reports to yWorks.\r\n *\r\n * In addition, on Safari, the stacktrace of the innermost exception is logged, because the default\r\n * stacktrace is not always that useful.\r\n *\r\n * This function registers error handlers for errors reported to the following properties:\r\n * - window.onerror\r\n * - window.onunhandledrejection\r\n * - Exception.handler\r\n * - require.onError if require.js is used\r\n */\r\nexport function registerErrorDialog() {\r\n  try {\r\n    // Try to increase the stacktrace limit, if we're running in V8\r\n    // https://v8.dev/docs/stack-trace-api\r\n    window.Error.stackTraceLimit = 35\r\n  } catch (ignored) {\r\n    // do nothing if it didn't work\r\n  }\r\n\r\n  // Register a handler for unhandled errors\r\n  window.addEventListener('error', (e) => {\r\n    e.preventDefault()\r\n    if (inErrorState()) {\r\n      return\r\n    }\r\n    if (BrowserDetection.safariVersion > 0 && e.error instanceof Error) {\r\n      console.error(unwindStack(e.error))\r\n    }\r\n    openErrorOverlay(e.error ?? e.message ?? 'Unhandled error')\r\n  })\r\n\r\n  // Register a handler for unhandled promise rejections\r\n  window.addEventListener('unhandledrejection', (e) => {\r\n    e.preventDefault()\r\n    if (inErrorState()) {\r\n      return\r\n    }\r\n    if (BrowserDetection.safariVersion > 0 && e.reason instanceof Error) {\r\n      console.error(getInnermostError(e.reason))\r\n    }\r\n    openErrorOverlay(e.reason ?? 'Unhandled promise rejection')\r\n  })\r\n\r\n  // In the following, we test/use some non-standard or new features, therefore we cast window to any\r\n  const anyWindow = window\r\n\r\n  // Forward errors occurring in internal event handlers of yFiles to the standard reportError function\r\n  // https://docs.yworks.com/yfileshtml/#/api/Exception\r\n  Exception.handler = (error) => openErrorOverlay(error)\r\n\r\n  // Forward errors occurring during require.js module loading to the standard reportError function\r\n  if (anyWindow.require != null) {\r\n    anyWindow.onError = (error) => openErrorOverlay(error)\r\n  }\r\n}\r\n\r\n/**\r\n * @param {!Error} error\r\n * @returns {!Error}\r\n */\r\nfunction getInnermostError(error) {\r\n  let inner = error\r\n  while (inner.cause instanceof Error) {\r\n    inner = inner.cause\r\n  }\r\n  return inner\r\n}\r\n\r\n/**\r\n * @param {!Error} error\r\n * @returns {!string}\r\n */\r\nfunction getInnermostMessage(error) {\r\n  const inner = getInnermostError(error)\r\n  return `${inner.name}: ${inner.message}`\r\n}\r\n\r\n/**\r\n * @param {*} error\r\n * @returns {!string}\r\n */\r\nfunction unwindStack(error) {\r\n  const stack = error.stack\r\n  return !stack || stack.length === 0\r\n    ? '<no stack available>'\r\n    : error.cause\r\n      ? `${stack}\\nCaused by:\\n${unwindStack(error.cause)}`\r\n      : stack\r\n}\r\n\r\n/**\r\n * Shows Vite's error overlay if the runtime-error plugin is registered, otherwise the browser's\r\n * default behavior is triggered.\r\n *\r\n * @param {!(Error|string)} errorOrMessage - Either the error or the error message.\r\n * @returns {!Promise}\r\n */\r\nasync function openErrorOverlay(errorOrMessage) {\r\n  const ErrorOverlay = customElements.get('vite-error-overlay')\r\n  if (ErrorOverlay && typeof window.reportError === 'function') {\r\n    window.reportError(\r\n      typeof errorOrMessage === 'string' ? new Error(errorOrMessage) : errorOrMessage\r\n    )\r\n  } else {\r\n    openErrorDialog(errorOrMessage)\r\n  }\r\n\r\n  // Don't move the App Status before the error dialog creation.\r\n  // Otherwise, automatic sending will be disabled.\r\n  setErrorState(errorOrMessage)\r\n}\r\n\r\n/**\r\n * Opens an error dialog that shows information about an error and allows sending of an error\r\n * report to yWorks.\r\n * @param {!(Error|string)} errorOrMessage\r\n * @returns {boolean}\r\n */\r\nfunction openErrorDialog(errorOrMessage) {\r\n  if (errorDialogOpen) {\r\n    // Do nothing and return true to prevent the default action\r\n    return true\r\n  }\r\n  errorDialogOpen = true\r\n\r\n  // No error reporting for GraphML parsing errors\r\n  if (errorOrMessage instanceof Exception && errorOrMessage.message.includes('XML Parsing Error')) {\r\n    window.alert(\r\n      'File parsing failed.' +\r\n        \" Maybe the provided file format was not expected or the file's integrity is corrupt.\" +\r\n        (errorOrMessage.message ?? '')\r\n    )\r\n    return true\r\n  }\r\n\r\n  const dialog =\r\n    errorOrMessage instanceof Error && errorOrMessage.name === 'TypeInfoError'\r\n      ? createSimpleErrorDialog(errorOrMessage)\r\n      : createErrorDialog(errorOrMessage)\r\n\r\n  document.body.appendChild(dialog)\r\n  return true\r\n}\r\n\r\n/**\r\n * Creates a simplified error dialog that shows information about an error.\r\n *\r\n * @param errorOrMessage - Either the error or the error message.\r\n * @param {!(Error|string)} [errorOrMessage]\r\n * @returns {!HTMLElement}\r\n */\r\nfunction createSimpleErrorDialog(errorOrMessage) {\r\n  const { dialogAnchor, dialogPanel, contentPanel } = createPlainDialog('Something Went Wrong')\r\n  const parent = document.body\r\n\r\n  dialogPanel.classList.add('demo-dialog--error')\r\n  dialogAnchor.classList.add('demo-dialog-anchor--error')\r\n\r\n  addErrorMessage(contentPanel, errorOrMessage)\r\n\r\n  const closeButton = document.createElement('button')\r\n  closeButton.addEventListener(\r\n    'click',\r\n    () => {\r\n      parent.removeChild(dialogAnchor)\r\n      errorDialogOpen = false\r\n    },\r\n    false\r\n  )\r\n  closeButton.textContent = 'Close'\r\n  contentPanel.appendChild(closeButton)\r\n\r\n  return dialogAnchor\r\n}\r\n\r\n/**\r\n * Creates an error dialog that shows information about an error and allows sending of an error\r\n * report to yWorks.\r\n *\r\n * @param errorOrMessage - Either the error or the error message.\r\n * @param {!(Error|string)} [errorOrMessage]\r\n * @returns {!HTMLElement}\r\n */\r\nfunction createErrorDialog(errorOrMessage) {\r\n  const actionUrl = 'https://www.yworks.com/actions/errorReportHtmlDemos'\r\n  const { dialogAnchor, dialogPanel, contentPanel } = createPlainDialog('Something Went Wrong')\r\n  const parent = document.body\r\n\r\n  dialogPanel.classList.add('demo-dialog--error')\r\n  dialogAnchor.classList.add('demo-dialog-anchor--error')\r\n\r\n  addErrorMessage(contentPanel, errorOrMessage)\r\n\r\n  const messageElement = document.createElement('div')\r\n  messageElement.innerHTML = `\r\n<p><strong>Report to yWorks</strong></p>\r\n<p style=\"border-top: 0\">If you think the cause is a problem in the yFiles for HTML library, you can use this dialog to send a bug report to yWorks.</p>\r\n<p>We may not respond to other reports. If there is a problem in your implementation or if you have a question regarding the usage of yFiles, please contact yWorks support via the <a href=\"https://my.yworks.com\" target=\"_blank\">yWorks Customer Center</a>.</p>`\r\n  contentPanel.appendChild(messageElement)\r\n\r\n  const form = document.createElement('form')\r\n  form.classList.add('demo-dialog__form')\r\n  form.setAttribute('method', 'POST')\r\n  form.setAttribute('target', '_blank')\r\n  form.setAttribute('action', actionUrl)\r\n  contentPanel.appendChild(form)\r\n\r\n  // create form element\r\n  addHiddenField(form, 'exact_product', yfiles.productname)\r\n  if (yfiles.license && yfiles.license.key) {\r\n    addHiddenField(form, 'license_key', yfiles.license.key.substring(0, 16))\r\n    addHiddenField(form, 'license_expiry', yfiles.license.expires)\r\n  } else {\r\n    addHiddenField(form, 'license_key', 'No License')\r\n    addHiddenField(form, 'license_expiry', 'No License')\r\n  }\r\n  addHiddenField(form, 'version', yfiles.version)\r\n\r\n  if (typeof errorOrMessage === 'string') {\r\n    addFormRow(form, 'error_message', 'Error Message', 'text', errorOrMessage)\r\n  } else {\r\n    // In Firefox, errors have some additional useful properties\r\n    const error = errorOrMessage\r\n\r\n    tryAddHiddenField(form, 'error_message', getInnermostMessage(error))\r\n    tryAddHiddenField(form, 'stack', encode(unwindStack(error)))\r\n    tryAddHiddenField(form, 'error_line', error.lineNumber ?? error.line ?? '')\r\n    tryAddHiddenField(form, 'error_column', error.columnNumber ?? error.column ?? '')\r\n    tryAddHiddenField(form, 'error_source', error.filename ?? error.sourceURL ?? '')\r\n  }\r\n\r\n  const inputEmail = addFormRow(\r\n    form,\r\n    'email',\r\n    \"Email <span class='optional'>optional, just in case we need to contact you</span>\",\r\n    'text',\r\n    '',\r\n    true\r\n  )\r\n  addHiddenField(form, 'system', `userAgent: ${window.navigator.userAgent}`)\r\n  addHiddenField(form, 'url', window.top?.location.href)\r\n\r\n  const inputComment = addFormRow(form, 'comment', 'Additional comments', 'textarea', '', true)\r\n\r\n  const submitButton = document.createElement('button')\r\n  submitButton.setAttribute('type', 'submit')\r\n  submitButton.addEventListener(\r\n    'click',\r\n    () => {\r\n      setTimeout(() => {\r\n        parent.removeChild(dialogAnchor)\r\n        errorDialogOpen = false\r\n      }, 10)\r\n    },\r\n    false\r\n  )\r\n  submitButton.textContent = 'Submit'\r\n  form.appendChild(submitButton)\r\n\r\n  const cancelButton = document.createElement('button')\r\n  cancelButton.setAttribute('type', 'reset')\r\n  cancelButton.addEventListener(\r\n    'click',\r\n    () => {\r\n      parent.removeChild(dialogAnchor)\r\n      errorDialogOpen = false\r\n    },\r\n    false\r\n  )\r\n  cancelButton.textContent = 'Cancel'\r\n  form.appendChild(cancelButton)\r\n\r\n  // activate the submit button only if user enters custom information\r\n  submitButton.setAttribute('type', 'button')\r\n  inputEmail.addEventListener(\r\n    'change',\r\n    () => {\r\n      submitButton.setAttribute('type', 'submit')\r\n    },\r\n    false\r\n  )\r\n  inputComment.addEventListener(\r\n    'change',\r\n    () => {\r\n      submitButton.setAttribute('type', 'submit')\r\n    },\r\n    false\r\n  )\r\n\r\n  return dialogAnchor\r\n}\r\n\r\n/**\r\n * Creates an empty general-purpose dialog with a title bar.\r\n *\r\n * @param {!string} titleText The text for the dialog title.\r\n */\r\nexport function createPlainDialog(titleText) {\r\n  const dialogAnchor = document.createElement('div')\r\n  dialogAnchor.classList.add('demo-dialog-anchor')\r\n\r\n  const dialogPanel = document.createElement('div')\r\n  dialogPanel.classList.add('demo-dialog')\r\n\r\n  const title = document.createElement('h2')\r\n  title.classList.add('demo-dialog__title')\r\n  title.innerHTML = titleText\r\n\r\n  const contentPanel = document.createElement('div')\r\n  contentPanel.classList.add('demo-dialog__content')\r\n\r\n  dialogAnchor.appendChild(dialogPanel)\r\n  dialogPanel.appendChild(title)\r\n  dialogPanel.appendChild(contentPanel)\r\n\r\n  return {\r\n    dialogAnchor,\r\n    dialogPanel,\r\n    title,\r\n    contentPanel\r\n  }\r\n}\r\n\r\n/**\r\n * @returns {boolean}\r\n */\r\nfunction inErrorState() {\r\n  const state = window['data-demo-status']\r\n  return typeof state === 'string' && !state.startsWith('OK')\r\n}\r\n\r\n/**\r\n * @param {!(Error|string)} errorOrMessage\r\n */\r\nfunction setErrorState(errorOrMessage) {\r\n  window['data-demo-status'] = errorOrMessage != null ? `Error! ${errorOrMessage}` : 'Error!'\r\n}\r\n\r\n/**\r\n * @param {*} value\r\n * @returns {*}\r\n */\r\nfunction encode(value) {\r\n  return typeof value === 'string'\r\n    ? value.replace(new RegExp('<', 'g'), '[').replace(new RegExp('>', 'g'), ']')\r\n    : value\r\n}\r\n\r\n/**\r\n * @param {!HTMLFormElement} form\r\n * @param {!string} id\r\n * @param {!string} label\r\n * @param {!('text'|'textarea')} type\r\n * @param {*} value\r\n * @param {boolean} [editable]\r\n * @returns {!(HTMLInputElement|HTMLTextAreaElement)}\r\n */\r\nfunction addFormRow(form, id, label, type, value, editable) {\r\n  let input\r\n  if (type === 'textarea') {\r\n    const textArea = document.createElement('textarea')\r\n    textArea.rows = 3\r\n    textArea.value = value\r\n    input = textArea\r\n  } else {\r\n    input = document.createElement('input')\r\n    input.setAttribute('type', type)\r\n    input.setAttribute('value', value)\r\n  }\r\n  input.setAttribute('id', `error_dialog_${id}`)\r\n  input.setAttribute('name', `error_dialog_${id}`)\r\n\r\n  if (!editable) {\r\n    input.setAttribute('readonly', 'true')\r\n  }\r\n\r\n  form.appendChild(createLabelElement(id, label))\r\n  form.appendChild(input)\r\n  return input\r\n}\r\n\r\n/**\r\n * @param {!string} id\r\n * @param {!string} label\r\n */\r\nfunction createLabelElement(id, label) {\r\n  const labelElement = document.createElement('label')\r\n  labelElement.setAttribute('for', `error_dialog_${id}`)\r\n  labelElement.innerHTML = label\r\n  return labelElement\r\n}\r\n\r\n/**\r\n * @param {!HTMLFormElement} form\r\n * @param {!string} id\r\n * @param {*} value\r\n * @returns {!HTMLInputElement}\r\n */\r\nfunction addHiddenField(form, id, value) {\r\n  const input = document.createElement('input')\r\n  input.setAttribute('type', 'hidden')\r\n  input.setAttribute('value', value)\r\n  input.setAttribute('id', `error_dialog_${id}`)\r\n  input.setAttribute('name', `error_dialog_${id}`)\r\n  form.appendChild(input)\r\n  return input\r\n}\r\n\r\n/**\r\n * @param {!HTMLFormElement} form\r\n * @param {!string} id\r\n * @param {*} value\r\n */\r\nfunction tryAddHiddenField(form, id, value) {\r\n  if (value) {\r\n    addHiddenField(form, id, value)\r\n  }\r\n}\r\n\r\n/**\r\n * @param {!HTMLElement} parent\r\n * @param {!(Error|string)} [errorOrMessage]\r\n */\r\nfunction addErrorMessage(parent, errorOrMessage) {\r\n  const element = document.createElement('div')\r\n  if (typeof errorOrMessage === 'string') {\r\n    element.innerHTML = `Error message: ${errorOrMessage}`\r\n  } else {\r\n    const innerMessage = getInnermostMessage(errorOrMessage)\r\n    if (innerMessage) {\r\n      element.innerHTML = `\r\n        <pre>${innerMessage}</pre>\r\n        <p style='text-align: right; font-size: 0.85em; margin: 4px 0 0 0'>(see console for details)</p>`\r\n    }\r\n  }\r\n  parent.appendChild(element)\r\n}\r\n", "/****************************************************************************\r\n ** @license\r\n ** This demo file is part of yFiles for HTML 2.6.0.4.\r\n ** Copyright (c) 2000-2024 by yWorks GmbH, Vor dem Kreuzberg 28,\r\n ** 72070 Tuebingen, Germany. All rights reserved.\r\n **\r\n ** yFiles demo files exhibit yFiles for HTML functionalities. Any redistribution\r\n ** of demo files in source code or binary form, with or without\r\n ** modification, is not permitted.\r\n **\r\n ** Owners of a valid software license for a yFiles for HTML version that this\r\n ** demo is shipped with are allowed to use the demo source code as basis\r\n ** for their own yFiles for HTML powered applications. Use of such programs is\r\n ** governed by the rights and conditions as set out in the yFiles for HTML\r\n ** license agreement.\r\n **\r\n ** THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESS OR IMPLIED\r\n ** WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\n ** MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN\r\n ** NO EVENT SHALL yWorks BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n ** SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED\r\n ** TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\r\n ** PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\r\n ** LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n ** NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n ** SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n **\r\n ***************************************************************************/\r\nimport { Workarounds } from 'yfiles'\r\nimport { registerErrorDialog } from '../demo-error.js'\r\nimport { BrowserDetection } from './BrowserDetection.js'\r\n\r\nif (document.readyState !== 'loading') {\r\n  initializeDemoUI()\r\n} else {\r\n  addEventListener('DOMContentLoaded', initializeDemoUI)\r\n}\r\n\r\n/**\r\n * Creates some HTML elements of the demo UI.\r\n */\r\nfunction initializeDemoUI() {\r\n  registerErrorDialog()\r\n  enableWorkarounds()\r\n}\r\n\r\nfunction enableWorkarounds() {\r\n  // Workaround for bogus mouse events on iOS 13, seems to be fixed in iOS 15\r\n  if (BrowserDetection.iOSVersion >= 13 && BrowserDetection.iOSVersion < 15) {\r\n    Workarounds.wk203237 = 100\r\n  }\r\n}\r\n", "/****************************************************************************\r\n ** @license\r\n ** This demo file is part of yFiles for HTML 2.6.0.4.\r\n ** Copyright (c) 2000-2024 by yWorks GmbH, Vor dem Kreuzberg 28,\r\n ** 72070 Tuebingen, Germany. All rights reserved.\r\n **\r\n ** yFiles demo files exhibit yFiles for HTML functionalities. Any redistribution\r\n ** of demo files in source code or binary form, with or without\r\n ** modification, is not permitted.\r\n **\r\n ** Owners of a valid software license for a yFiles for HTML version that this\r\n ** demo is shipped with are allowed to use the demo source code as basis\r\n ** for their own yFiles for HTML powered applications. Use of such programs is\r\n ** governed by the rights and conditions as set out in the yFiles for HTML\r\n ** license agreement.\r\n **\r\n ** THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESS OR IMPLIED\r\n ** WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\n ** MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN\r\n ** NO EVENT SHALL yWorks BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n ** SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED\r\n ** TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\r\n ** PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\r\n ** LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n ** NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n ** SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n **\r\n ***************************************************************************/\r\nimport { BrowserDetection } from './BrowserDetection.js'\r\n\r\n/**\r\n * @typedef {Object} OptionData\r\n * @property {string} value\r\n * @property {string} text\r\n */\r\n\r\n/**\r\n * Adds options to an HTMLSelectElement\r\n * @param {!HTMLSelectElement} selectElement the HTMLSelectElement\r\n * @param values the option values\r\n * @param {!Array.<(string|OptionData)>} undefined\r\n */\r\nexport function addOptions(selectElement, ...values) {\r\n  for (const value of values) {\r\n    const option = document.createElement('option')\r\n    if (typeof value === 'string') {\r\n      option.value = value\r\n      option.text = value\r\n    } else {\r\n      option.value = value.value\r\n      option.text = value.text\r\n    }\r\n    selectElement.add(option)\r\n  }\r\n  selectElement.dispatchEvent(new Event('change'))\r\n}\r\n\r\n/**\r\n * Adds navigation buttons to an HTMLSelectElement.\r\n * @param {!HTMLSelectElement} selectElement The HTMLSelectElement.\r\n * @param wrapAround Whether to wrap around when navigating beyond the end or beginning of the select.\r\n * @param wrapInDiv Whether to wrap the select and the navigation buttons into a new div element.\r\n * @param classes Additional classes for the navigation buttons.\r\n * @returns The given element for chaining other function calls.\r\n * @param {boolean} [wrapAround=true]\r\n * @param {boolean} [wrapInDiv=true]\r\n * @param {!Array.<string>} undefined\r\n */\r\nexport function addNavigationButtons(\r\n  selectElement,\r\n  wrapAround = true,\r\n  wrapInDiv = true,\r\n  ...classes\r\n) {\r\n  if (selectElement.parentElement == null) {\r\n    throw new Error('The element must have a parent')\r\n  }\r\n\r\n  const prevButton = document.createElement('button')\r\n  prevButton.classList.add('demo-icon-yIconPrevious', 'navigation-button', ...classes)\r\n  prevButton.setAttribute('title', 'Previous')\r\n  prevButton.addEventListener('click', (_) => {\r\n    const oldIndex = selectElement.selectedIndex\r\n    const newIndex = lastIndexOfEnabled(selectElement, oldIndex - 1, wrapAround)\r\n    if (oldIndex != newIndex && newIndex > -1) {\r\n      selectElement.selectedIndex = newIndex\r\n      selectElement.dispatchEvent(new Event('change'))\r\n    }\r\n  })\r\n\r\n  const nextButton = document.createElement('button')\r\n  nextButton.classList.add('demo-icon-yIconNext', 'navigation-button', ...classes)\r\n  nextButton.setAttribute('title', 'Next')\r\n  nextButton.addEventListener('click', (_) => {\r\n    const oldIndex = selectElement.selectedIndex\r\n    const newIndex = indexOfEnabled(selectElement, oldIndex + 1, wrapAround)\r\n    if (oldIndex != newIndex && newIndex > -1) {\r\n      selectElement.selectedIndex = newIndex\r\n      selectElement.dispatchEvent(new Event('change'))\r\n    }\r\n  })\r\n\r\n  if (wrapInDiv) {\r\n    const wrapper = document.createElement('div')\r\n    wrapper.className = 'navigate-select'\r\n    selectElement.parentElement.insertBefore(wrapper, selectElement)\r\n\r\n    wrapper.append(prevButton, selectElement, nextButton)\r\n  } else {\r\n    selectElement.parentElement.insertBefore(prevButton, selectElement)\r\n    if (selectElement.nextElementSibling != null) {\r\n      selectElement.parentElement.insertBefore(nextButton, selectElement.nextElementSibling)\r\n    } else {\r\n      selectElement.parentElement.appendChild(nextButton)\r\n    }\r\n  }\r\n\r\n  const updateDisabled = () => {\r\n    const lastIndex = selectElement.options.length - 1\r\n    prevButton.disabled =\r\n      selectElement.disabled || (!wrapAround && selectElement.selectedIndex === 0)\r\n    nextButton.disabled =\r\n      selectElement.disabled || (!wrapAround && selectElement.selectedIndex === lastIndex)\r\n  }\r\n\r\n  selectElement.addEventListener('change', (_) => {\r\n    updateDisabled()\r\n  })\r\n\r\n  const disabledObserver = new MutationObserver((mutations) => {\r\n    for (const mutation of mutations) {\r\n      if (mutation.attributeName === 'disabled') {\r\n        updateDisabled()\r\n        return\r\n      }\r\n    }\r\n  })\r\n  disabledObserver.observe(selectElement, { attributes: true })\r\n  return selectElement\r\n}\r\n\r\n/**\r\n * Finds the index of the first enabled option in the given HTMLSelectElement.\r\n * @param {!HTMLSelectElement} selectElement the HTMLSelectElement whose options are searched for an enabled one.\r\n * @param {number} fromIndex the starting index from which to search.\r\n * @param {boolean} wrapAround determines if the search should find first enabled option with an index less\r\n * than fromIndex if there is no enabled option with an index greater than fromIndex.\r\n * @returns {number}\r\n */\r\nfunction indexOfEnabled(selectElement, fromIndex, wrapAround) {\r\n  const n = selectElement.options.length\r\n  for (let idx = fromIndex; idx < n; ++idx) {\r\n    if (!selectElement.options[idx].disabled) {\r\n      return idx\r\n    }\r\n  }\r\n  if (wrapAround) {\r\n    for (let idx = 0; idx < fromIndex; ++idx) {\r\n      if (!selectElement.options[idx].disabled) {\r\n        return idx\r\n      }\r\n    }\r\n  }\r\n  return -1\r\n}\r\n\r\n/**\r\n * Finds the index of the last enabled option in the given HTMLSelectElement.\r\n * @param {!HTMLSelectElement} selectElement the HTMLSelectElement whose options are searched for an enabled one.\r\n * @param {number} fromIndex the starting index from which to search.\r\n * @param {boolean} wrapAround determines if the search should find last enabled option with an index greater\r\n *   than fromIndex if there is no enabled option with an index less than fromIndex.\r\n * @returns {number}\r\n */\r\nfunction lastIndexOfEnabled(selectElement, fromIndex, wrapAround) {\r\n  for (let idx = fromIndex; idx > -1; --idx) {\r\n    if (!selectElement.options[idx].disabled) {\r\n      return idx\r\n    }\r\n  }\r\n  if (wrapAround) {\r\n    for (let idx = selectElement.options.length - 1; idx > fromIndex; --idx) {\r\n      if (!selectElement.options[idx].disabled) {\r\n        return idx\r\n      }\r\n    }\r\n  }\r\n  return -1\r\n}\r\n\r\n/**\r\n * Checks whether the browser supports WebGL2 and shows a warning message if this is not supported.\r\n * @returns {boolean}\r\n */\r\nexport function checkWebGL2Support() {\r\n  if (!BrowserDetection.webGL2) {\r\n    const message =\r\n      'Your browser or device does not support WebGL2.<br />\\n' +\r\n      'This demo only works if WebGL2 is available.<br />\\n' +\r\n      'Please use a modern browser like Chrome, Edge, Firefox, or Opera.<br />\\n' +\r\n      'In older versions of Safari and older Apple devices, WebGL2 is an experimental feature\\n' +\r\n      'that needs to be activated explicitly.'\r\n    createWebGLSupportWarningMessage(message)\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\n/**\r\n * Checks whether the browser supports WebGL and shows a warning message if this is not supported.\r\n * @returns {boolean}\r\n */\r\nexport function checkWebGLSupport() {\r\n  if (!BrowserDetection.webGL) {\r\n    const message =\r\n      'Your browser or device does not support WebGL.<br /> \\n' +\r\n      'This demo only works if WebGL is available.'\r\n    createWebGLSupportWarningMessage(message)\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\n/**\r\n * Creates a div to display the no-webgl-support warnings.\r\n * @param {!string} innerHTML the text to be displayed\r\n */\r\nfunction createWebGLSupportWarningMessage(innerHTML) {\r\n  const graphComponentDiv = document.querySelector('#graphComponent')\r\n  if (graphComponentDiv && graphComponentDiv.parentElement) {\r\n    const parent = graphComponentDiv.parentElement\r\n    // show message if the browsers does not support WebGL2\r\n    const webglDiv = document.createElement('div')\r\n    webglDiv.setAttribute('style', 'display:block')\r\n    webglDiv.id = 'no-webgl-support'\r\n    webglDiv.innerHTML = innerHTML\r\n    parent.appendChild(webglDiv)\r\n  }\r\n}\r\n\r\n/**\r\n * Binds the given command to the element specified by the given selector.\r\n *\r\n * In more detail, register a click listener that executes the command and an event listener that\r\n * syncs the disabled state of the command to the button.\r\n * @param {!string} selector\r\n * @param {!ICommand} command\r\n * @param {*} target\r\n * @param {*} parameter\r\n * @param {!string} tooltip\r\n */\r\nexport function bindYFilesCommand(selector, command, target, parameter, tooltip) {\r\n  const element = document.querySelector(selector)\r\n  // Check whether an event listener is already registered\r\n  if (!element || element.getAttribute('data-command-registered')) {\r\n    return\r\n  }\r\n\r\n  // Add a click listener that executes the command\r\n  element.addEventListener('click', () => {\r\n    if (command.canExecute(parameter, target)) {\r\n      command.execute(parameter, target)\r\n    }\r\n  })\r\n\r\n  // Add an event listener that syncs the disabled state of the command to the element\r\n  command.addCanExecuteChangedListener((command, evt) => {\r\n    if (command.canExecute(parameter, target)) {\r\n      element.removeAttribute('disabled')\r\n    } else {\r\n      element.setAttribute('disabled', 'disabled')\r\n    }\r\n  })\r\n\r\n  // Mark the element as having an event listener, and add a tooltip\r\n  element.setAttribute('data-command-registered', '')\r\n  element.setAttribute('title', tooltip)\r\n}\r\n\r\n/**\r\n * Disabled all UI elements matching the given selector.\r\n * Ignores already disabled elements.\r\n * @param {!Array.<string>} undefined\r\n */\r\nexport function disableUIElements(...elementSelectors) {\r\n  for (const selector of elementSelectors) {\r\n    document.querySelectorAll(selector).forEach((element) => {\r\n      if (!element || element.hasAttribute('disabled')) return\r\n\r\n      element.setAttribute('disabled', '')\r\n      element.dataset.disabled = ''\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * Re-enables all elements which were previously disabled by {@see disableUIElements}.\r\n */\r\nexport function enableUIElements() {\r\n  document.querySelectorAll('[data-disabled]').forEach((e) => {\r\n    e.removeAttribute('disabled')\r\n  })\r\n}\r\n\r\n/**\r\n * Displays or hides the loading indicator which is a div element with id 'loadingIndicator'.\r\n * @param {boolean} visible Whether to show or hide the loading indicator.\r\n * @param message A text on the loading indicator.\r\n * @param {!string} [message]\r\n * @returns {!Promise}\r\n */\r\nexport async function showLoadingIndicator(visible, message) {\r\n  const loadingIndicator = document.querySelector('#loading-indicator')\r\n  loadingIndicator.style.display = visible ? 'block' : 'none'\r\n  if (message) {\r\n    loadingIndicator.innerText = message\r\n  }\r\n  return new Promise((resolve) => setTimeout(resolve, 0))\r\n}\r\n", "/****************************************************************************\r\n ** @license\r\n ** This demo file is part of yFiles for HTML 2.6.0.4.\r\n ** Copyright (c) 2000-2024 by yWorks GmbH, Vor dem Kreuzberg 28,\r\n ** 72070 Tuebingen, Germany. All rights reserved.\r\n **\r\n ** yFiles demo files exhibit yFiles for HTML functionalities. Any redistribution\r\n ** of demo files in source code or binary form, with or without\r\n ** modification, is not permitted.\r\n **\r\n ** Owners of a valid software license for a yFiles for HTML version that this\r\n ** demo is shipped with are allowed to use the demo source code as basis\r\n ** for their own yFiles for HTML powered applications. Use of such programs is\r\n ** governed by the rights and conditions as set out in the yFiles for HTML\r\n ** license agreement.\r\n **\r\n ** THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESS OR IMPLIED\r\n ** WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\n ** MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN\r\n ** NO EVENT SHALL yWorks BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n ** SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED\r\n ** TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\r\n ** PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\r\n ** LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n ** NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n ** SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n **\r\n ***************************************************************************/\r\nexport function initToolbars() {\r\n  const observer = new ResizeObserver(toolbarSizeChanged)\r\n  for (const toolbar of document.querySelectorAll('.demo-page__toolbar')) {\r\n    if (!toolbar.classList.contains('no-overflow')) {\r\n      initToolbarResponsiveness(toolbar)\r\n      observer.observe(toolbar)\r\n    }\r\n\r\n    if (document.body.classList.contains('demo-tutorial')) {\r\n      initTutorialToolbar(toolbar)\r\n    }\r\n  }\r\n}\r\n\r\nexport function forceToolbarOverflowUpdate() {\r\n  for (const toolbar of document.querySelectorAll('.demo-page__toolbar')) {\r\n    if (!toolbar.classList.contains('no-overflow')) {\r\n      const padding = parseFloat(getComputedStyle(toolbar).paddingRight)\r\n      wrapToolbar(toolbar, toolbar.getBoundingClientRect().width, padding)\r\n    }\r\n  }\r\n}\r\n\r\n// @yjs:keep = contentRect\r\n/**\r\n * @param {!ResizeObserverEntry} entry\r\n */\r\nfunction getToolbarWidthAndPadding(entry) {\r\n  let toolbarWidth = 0,\r\n    toolbarContentWidth = 0\r\n\r\n  // borderBoxSize and contentBoxSize are not supported by Safari < 15,\r\n  // fallback to contentRect\r\n  if (!entry.borderBoxSize || !entry.contentBoxSize) {\r\n    toolbarWidth = entry.contentRect.width ? entry.contentRect.width + 32 : 0\r\n    toolbarContentWidth = entry.contentRect.width ?? 0\r\n  }\r\n  // old Firefox implemented borderBoxSize and contentBoxSize as non array\r\n  else if (!entry.borderBoxSize[0]) {\r\n    toolbarWidth = entry.borderBoxSize.inlineSize ?? 0\r\n    toolbarContentWidth = entry.contentBoxSize.inlineSize ?? 0\r\n  } else {\r\n    toolbarWidth = entry.borderBoxSize[0].inlineSize\r\n    toolbarContentWidth = entry.contentBoxSize[0].inlineSize\r\n  }\r\n\r\n  return { toolbarWidth, toolbarPadding: (toolbarWidth - toolbarContentWidth) / 2 }\r\n}\r\n\r\n/**\r\n * @param {!Array.<ResizeObserverEntry>} entries\r\n * @param {!ResizeObserver} observer\r\n */\r\nfunction toolbarSizeChanged(entries, observer) {\r\n  window.requestAnimationFrame(() => {\r\n    entries.forEach((entry) => {\r\n      const { toolbarWidth, toolbarPadding } = getToolbarWidthAndPadding(entry)\r\n      if (toolbarWidth > 0) {\r\n        wrapToolbar(entry.target, toolbarWidth, toolbarPadding)\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * Initializes responsive toolbar behavior (i.e. puts overflowing toolbar items in a separate\r\n * overflow menu).\r\n * @param {!Element} toolbar\r\n */\r\nfunction initToolbarResponsiveness(toolbar) {\r\n  // add overflow container and button\r\n  const overflowContainer = document.createElement('div')\r\n  // Ensure that the content does not inherit the tooltip of the overflow button\r\n  overflowContainer.setAttribute('title', '')\r\n  overflowContainer.classList.add('overflow-container')\r\n  const overflowContainerContent = document.createElement('div')\r\n  overflowContainerContent.classList.add('overflow-container__content')\r\n  overflowContainer.appendChild(overflowContainerContent)\r\n\r\n  const overflowButton = document.createElement('span')\r\n  overflowButton.classList.add('overflow-button')\r\n  overflowButton.setAttribute('title', 'More...')\r\n\r\n  const closeContainerHandler = (e) => {\r\n    let current = e.target\r\n    while (current !== overflowContainer && current.parentNode) {\r\n      current = current.parentNode\r\n    }\r\n    if (current !== overflowContainer && e.target !== overflowButton) {\r\n      overflowContainer.classList.remove('overflow-container--open')\r\n      document.removeEventListener('click', closeContainerHandler)\r\n      e.preventDefault()\r\n    }\r\n  }\r\n  overflowButton.addEventListener('click', (e) => {\r\n    if (e.target !== overflowButton) return\r\n\r\n    overflowContainer.classList.toggle('overflow-container--open')\r\n    if (overflowContainer.classList.contains('overflow-container--open')) {\r\n      document.addEventListener('click', closeContainerHandler)\r\n      if (e.currentTarget) {\r\n        overflowContainer.style.right = overflowButton.style.right\r\n      }\r\n    }\r\n  })\r\n\r\n  overflowButton.appendChild(overflowContainer)\r\n  toolbar.insertBefore(overflowButton, toolbar.firstChild)\r\n}\r\n\r\n/**\r\n * @param {!Element} toolbar\r\n * @param {number} toolbarWidth\r\n * @param {number} toolbarPadding\r\n */\r\nfunction wrapToolbar(toolbar, toolbarWidth, toolbarPadding) {\r\n  const overflowContainer = toolbar.querySelector('.overflow-container')\r\n\r\n  // not initialized\r\n  if (!overflowContainer) return\r\n\r\n  const overflowContainerContent = overflowContainer.querySelector('.overflow-container__content')\r\n  const overflowButton = toolbar.querySelector('.overflow-button')\r\n\r\n  // preserve 40px for overflow button\r\n  toolbarWidth -= toolbarPadding + 40\r\n\r\n  pushBackOverflow(toolbar, overflowContainerContent, toolbarWidth)\r\n  removeOverflow(toolbar, overflowContainerContent, toolbarWidth)\r\n\r\n  if (overflowContainerContent.children.length === 0) {\r\n    overflowButton.classList.add('hidden')\r\n    overflowContainer.classList.remove('overflow-container--open')\r\n  } else {\r\n    overflowButton.classList.remove('hidden')\r\n  }\r\n}\r\n\r\n/**\r\n * @param {!Element} toolbar\r\n * @param {!Element} overflowContainerContent\r\n * @param {number} toolbarWidth\r\n */\r\nfunction removeOverflow(toolbar, overflowContainerContent, toolbarWidth) {\r\n  let toolbarItem = toolbar.lastElementChild\r\n\r\n  // move overflowing toolbar items to overflow container\r\n  while (\r\n    toolbarItem &&\r\n    toolbar.children.length > 3 &&\r\n    (toolbarItem.clientWidth === 0 || // Move hidden elements since their offsetLeft is 0 and will stop the overflow\r\n      toolbarItem.offsetLeft + toolbarItem.clientWidth >= toolbarWidth)\r\n  ) {\r\n    toolbarItem.previousOffsetWidth = toolbarItem.offsetWidth\r\n    overflowContainerContent.insertBefore(toolbarItem, overflowContainerContent.firstChild)\r\n    if (toolbarItem.hasAttribute('for')) {\r\n      const element = document.getElementById(toolbarItem.getAttribute('for'))\r\n      if (\r\n        element &&\r\n        element.classList.contains('demo-toggle-button') &&\r\n        element.classList.contains('labeled')\r\n      ) {\r\n        element.previousOffsetWidth = element.offsetWidth\r\n        overflowContainerContent.insertBefore(element, overflowContainerContent.firstChild)\r\n      }\r\n    }\r\n    toolbarItem = toolbar.lastElementChild\r\n  }\r\n}\r\n\r\n/**\r\n * @param {!Element} toolbar\r\n * @param {!Element} overflowContainerContent\r\n * @param {number} toolbarWidth\r\n */\r\nfunction pushBackOverflow(toolbar, overflowContainerContent, toolbarWidth) {\r\n  let toolbarItem = toolbar.lastElementChild\r\n\r\n  // move overflowing toolbar items back to the toolbar if there is enough space\r\n  let overflowItem = overflowContainerContent.firstElementChild\r\n  while (\r\n    overflowItem &&\r\n    overflowItem.nextElementSibling &&\r\n    (overflowItem.clientWidth === 0 || overflowItem.classList.contains('demo-separator'))\r\n  ) {\r\n    overflowItem = overflowItem.nextElementSibling\r\n  }\r\n\r\n  // remove 5 px to account for icon spacing\r\n  let space = toolbarWidth - toolbarItem.offsetLeft - toolbarItem.offsetWidth - 5\r\n\r\n  // eslint-disable-next-line no-cond-assign\r\n  // add 5 px to client width to handle icon spacing\r\n  while (overflowItem && overflowItem.previousOffsetWidth < space) {\r\n    while (overflowItem.previousElementSibling) {\r\n      toolbar.appendChild(overflowContainerContent.firstElementChild)\r\n    }\r\n    toolbar.appendChild(overflowItem)\r\n\r\n    toolbarItem = toolbar.lastElementChild\r\n    space = toolbarWidth - toolbarItem.offsetLeft - toolbarItem.offsetWidth - 5\r\n    overflowItem = overflowContainerContent.firstElementChild\r\n    while (\r\n      overflowItem &&\r\n      (overflowItem.clientWidth === 0 || overflowItem.classList.contains('demo-separator'))\r\n    ) {\r\n      overflowItem = overflowItem.nextElementSibling\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @param {!Element} toolbar\r\n */\r\nfunction initTutorialToolbar(toolbar) {\r\n  const dropdown = toolbar.querySelector('.demo-toolbar__tutorial-dropdown')\r\n\r\n  const closeDropdown = (e) => {\r\n    dropdown.classList.remove('demo-toolbar__tutorial-dropdown--expanded')\r\n    document.body.removeEventListener('click', closeDropdown)\r\n  }\r\n\r\n  dropdown?.addEventListener('click', (e) => {\r\n    if (dropdown.classList.contains('demo-toolbar__tutorial-dropdown--expanded')) {\r\n      closeDropdown(e)\r\n    } else {\r\n      e.stopPropagation()\r\n      dropdown.classList.add('demo-toolbar__tutorial-dropdown--expanded')\r\n      document.body.addEventListener('click', closeDropdown)\r\n    }\r\n  })\r\n}\r\n", "/****************************************************************************\r\n ** @license\r\n ** This demo file is part of yFiles for HTML 2.6.0.4.\r\n ** Copyright (c) 2000-2024 by yWorks GmbH, Vor dem Kreuzberg 28,\r\n ** 72070 Tuebingen, Germany. All rights reserved.\r\n **\r\n ** yFiles demo files exhibit yFiles for HTML functionalities. Any redistribution\r\n ** of demo files in source code or binary form, with or without\r\n ** modification, is not permitted.\r\n **\r\n ** Owners of a valid software license for a yFiles for HTML version that this\r\n ** demo is shipped with are allowed to use the demo source code as basis\r\n ** for their own yFiles for HTML powered applications. Use of such programs is\r\n ** governed by the rights and conditions as set out in the yFiles for HTML\r\n ** license agreement.\r\n **\r\n ** THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESS OR IMPLIED\r\n ** WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\n ** MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN\r\n ** NO EVENT SHALL yWorks BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n ** SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED\r\n ** TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\r\n ** PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\r\n ** LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n ** NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n ** SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n **\r\n ***************************************************************************/\r\nimport { CanvasComponent, GraphComponent, GraphOverviewComponent, ICommand } from 'yfiles'\r\nimport { initToolbars } from './toolbar.js'\r\nimport { bindYFilesCommand } from './element-utils.js'\r\n\r\nexport function finishLoading() {\r\n  const graphComponent = CanvasComponent.getComponent(document.querySelector('#graphComponent'))\r\n  if (graphComponent instanceof GraphComponent) {\r\n    registerDefaultCommands(graphComponent)\r\n    registerDevicePixelRatioChangeListener(graphComponent)\r\n  }\r\n\r\n  const overviewComponent = CanvasComponent.getComponent(\r\n    document.querySelector('#overviewComponent')\r\n  )\r\n  if (overviewComponent instanceof GraphOverviewComponent) {\r\n    registerDevicePixelRatioChangeListener(overviewComponent)\r\n  }\r\n\r\n  document.body.classList.add('loaded')\r\n  window['data-demo-status'] = 'OK'\r\n\r\n  initToolbars()\r\n}\r\n\r\n/**\r\n * Sets the device pixel ratio of the given component and register a listener that applies\r\n * device pixel ratio changes.\r\n * @param {!CanvasComponent} canvasComponent\r\n */\r\nfunction registerDevicePixelRatioChangeListener(canvasComponent) {\r\n  let removeCallback = () => {}\r\n\r\n  const updatePixelRatio = () => {\r\n    removeCallback()\r\n    const mqString = `(resolution: ${window.devicePixelRatio}dppx)`\r\n    const media = matchMedia(mqString)\r\n    media.addEventListener('change', updatePixelRatio)\r\n    removeCallback = () => {\r\n      media.removeEventListener('change', updatePixelRatio)\r\n    }\r\n\r\n    canvasComponent.devicePixelRatio = window.devicePixelRatio || 1\r\n  }\r\n  updatePixelRatio()\r\n}\r\n\r\n/**\r\n * @param {!GraphComponent} graphComponent\r\n */\r\nfunction registerDefaultCommands(graphComponent) {\r\n  document.querySelector(\"button[data-command='NEW']\")?.addEventListener('click', () => {\r\n    graphComponent.graph.clear()\r\n    graphComponent.graph.undoEngine?.clear()\r\n    graphComponent.fitGraphBounds()\r\n  })\r\n\r\n  bindYFilesCommand(\r\n    \"[data-command='OPEN']\",\r\n    ICommand.OPEN,\r\n    graphComponent,\r\n    null,\r\n    'Open a GraphML file'\r\n  )\r\n  bindYFilesCommand(\r\n    \"[data-command='SAVE']\",\r\n    ICommand.SAVE,\r\n    graphComponent,\r\n    null,\r\n    'Save a GraphML file'\r\n  )\r\n\r\n  bindYFilesCommand(\r\n    \"[data-command='FIT_GRAPH_BOUNDS']\",\r\n    ICommand.FIT_GRAPH_BOUNDS,\r\n    graphComponent,\r\n    null,\r\n    'Fit content'\r\n  )\r\n  bindYFilesCommand(\r\n    \"[data-command='INCREASE_ZOOM']\",\r\n    ICommand.INCREASE_ZOOM,\r\n    graphComponent,\r\n    null,\r\n    'Increase zoom'\r\n  )\r\n  bindYFilesCommand(\r\n    \"[data-command='DECREASE_ZOOM']\",\r\n    ICommand.DECREASE_ZOOM,\r\n    graphComponent,\r\n    null,\r\n    'Decrease zoom'\r\n  )\r\n  bindYFilesCommand(\r\n    \"[data-command='ZOOM_ORIGINAL']\",\r\n    ICommand.ZOOM,\r\n    graphComponent,\r\n    1.0,\r\n    'Zoom to original size'\r\n  )\r\n\r\n  bindYFilesCommand(\"[data-command='CUT']\", ICommand.CUT, graphComponent, null, 'Cut')\r\n  bindYFilesCommand(\"[data-command='COPY']\", ICommand.COPY, graphComponent, null, 'Copy')\r\n  bindYFilesCommand(\"[data-command='PASTE']\", ICommand.PASTE, graphComponent, null, 'Paste')\r\n  bindYFilesCommand(\"[data-command='DELETE']\", ICommand.DELETE, graphComponent, null, 'Delete')\r\n\r\n  bindYFilesCommand(\"[data-command='UNDO']\", ICommand.UNDO, graphComponent, null, 'Undo')\r\n  bindYFilesCommand(\"[data-command='REDO']\", ICommand.REDO, graphComponent, null, 'Redo')\r\n\r\n  bindYFilesCommand(\r\n    \"[data-command='GROUP_SELECTION']\",\r\n    ICommand.GROUP_SELECTION,\r\n    graphComponent,\r\n    null,\r\n    'Group selected element'\r\n  )\r\n  bindYFilesCommand(\r\n    \"[data-command='UNGROUP_SELECTION']\",\r\n    ICommand.UNGROUP_SELECTION,\r\n    graphComponent,\r\n    null,\r\n    'Ungroup selected element'\r\n  )\r\n  bindYFilesCommand(\r\n    \"[data-command='ENTER_GROUP']\",\r\n    ICommand.ENTER_GROUP,\r\n    graphComponent,\r\n    null,\r\n    'Enter group'\r\n  )\r\n  bindYFilesCommand(\r\n    \"[data-command='EXIT_GROUP']\",\r\n    ICommand.EXIT_GROUP,\r\n    graphComponent,\r\n    null,\r\n    'Exit group'\r\n  )\r\n}\r\n"],
  "mappings": "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",
  "names": ["command", "_a"]
}
